<!DOCTYPE html>
<html lang="zh-cn" dir="ltr">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="字符串 #   From 小何  字符串操作 #  转义符 #  \n 换行(LF) ，将当前位置移到下一行开头 \r 回车(CR) ，将当前位置移到本行开头 \t 水平制表(HT) （跳到下一个TAB位置） \\ 代表一个反斜线字符\ \&#39; 代表一个单引号（撇号）字符 \&#34;代表一个双引号字符 \0空字符(NULL) 链接字符串只需要使用 .. #  print(&#34;i&#34;..&#39;love&#39;) 计算字符串长度使用#字符串 #  miao = &#34;https://lua.dianas.cyou/&#34; print(#miao) 正则操作字符串 #  我们使用正则表达式来截取字符串，简单的截取请看示例
str=&#34;左中右&#34; --取左 左=str:match(&#34;(.&#43;)中&#34;) --取字符串中间 中=str:match(&#34;左(.-)右&#34;) --取字符串右边 右=str:match(&#34;中(.&#43;)&#34;) 常用正则如下  详细内容 ...  常用正则(Lua中需要将\换成%)： 非负整数：^\d&#43;$ 正整数：^[0-9]*[1-9][0-9]*$ 非正整数：^((-\d&#43;)|(0&#43;))$ 负整数：^-[0-9]*[1-9][0-9]*$ 整数：^-?\d&#43;$ 非负浮点数：^\d&#43;(\.\d&#43;)?$ 正浮点数 : ^((0-9)&#43;\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]&#43;)|([0-9]*[1-9][0-9]*)$ 非正浮点数：^((-\d&#43;\.\d&#43;)?)|(0&#43;(\.0&#43;)?))$ 负浮点数：^(-((正浮点数正则式)))$ 英文字符串：^[A-Za-z]&#43;$ 英文大写串：^[A-Z]&#43;$ 英文小写串：^[a-z]&#43;$ 英文字符数字串：^[A-Za-z0-9]&#43;$ 英数字加下划线串：^\w&#43;$ E-mail地址：^[\w-]&#43;(\.">
<meta name="theme-color" content="#FFFFFF">
<meta name="color-scheme" content="light dark"><meta property="og:title" content="02-01 String" />
<meta property="og:description" content="字符串 #   From 小何  字符串操作 #  转义符 #  \n 换行(LF) ，将当前位置移到下一行开头 \r 回车(CR) ，将当前位置移到本行开头 \t 水平制表(HT) （跳到下一个TAB位置） \\ 代表一个反斜线字符\ \&#39; 代表一个单引号（撇号）字符 \&#34;代表一个双引号字符 \0空字符(NULL) 链接字符串只需要使用 .. #  print(&#34;i&#34;..&#39;love&#39;) 计算字符串长度使用#字符串 #  miao = &#34;https://lua.dianas.cyou/&#34; print(#miao) 正则操作字符串 #  我们使用正则表达式来截取字符串，简单的截取请看示例
str=&#34;左中右&#34; --取左 左=str:match(&#34;(.&#43;)中&#34;) --取字符串中间 中=str:match(&#34;左(.-)右&#34;) --取字符串右边 右=str:match(&#34;中(.&#43;)&#34;) 常用正则如下  详细内容 ...  常用正则(Lua中需要将\换成%)： 非负整数：^\d&#43;$ 正整数：^[0-9]*[1-9][0-9]*$ 非正整数：^((-\d&#43;)|(0&#43;))$ 负整数：^-[0-9]*[1-9][0-9]*$ 整数：^-?\d&#43;$ 非负浮点数：^\d&#43;(\.\d&#43;)?$ 正浮点数 : ^((0-9)&#43;\.[0-9]*[1-9][0-9]*)|([0-9]*[1-9][0-9]*\.[0-9]&#43;)|([0-9]*[1-9][0-9]*)$ 非正浮点数：^((-\d&#43;\.\d&#43;)?)|(0&#43;(\.0&#43;)?))$ 负浮点数：^(-((正浮点数正则式)))$ 英文字符串：^[A-Za-z]&#43;$ 英文大写串：^[A-Z]&#43;$ 英文小写串：^[a-z]&#43;$ 英文字符数字串：^[A-Za-z0-9]&#43;$ 英数字加下划线串：^\w&#43;$ E-mail地址：^[\w-]&#43;(\." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://lua.dianas.cyou/docs/02/0201string/" /><meta property="article:section" content="docs" />



<title>02-01 String | LUA book</title>
<link rel="manifest" href="/manifest.json">
<link rel="icon" href="/favicon.png" type="image/x-icon">
<link rel="stylesheet" href="/book.min.82c5dbd23447cee0b4c2aa3ed08ce0961faa40e1fa370eee4f8c9f02e0d46b5f.css" integrity="sha256-gsXb0jRHzuC0wqo&#43;0Izglh&#43;qQOH6Nw7uT4yfAuDUa18=" crossorigin="anonymous">
  <script defer src="/flexsearch.min.js"></script>
  <script defer src="/en.search.min.5dd10d5c25e5d7a81865548220e9b9da7ce8f8254e587932025280a63896a777.js" integrity="sha256-XdENXCXl16gYZVSCIOm52nzo&#43;CVOWHkyAlKApjiWp3c=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/"><span>LUA book</span>
  </a>
</h2>


<div class="book-search">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>












  



  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/01/" class="">01-00 初步认识LUA</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/01/0101sudo/" class="">01-01 开发素养</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/01/0102alua/" class="">01-02 认识Alua写法</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/02/" class="">02-00 教程</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/02/0201string/" class=" active">02-01 String</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/02/0202layout/" class="">02-02 Layout</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/03/" class="">03-00 工程笔记</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/03/0301/" class="">03-01 案例分析01</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/03/0302/" class="">03-02 拒绝做糟糕的开发者[*]</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/" class="">04-00 MLUA教程</a>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0401when/" class="">04-01 when的用法</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0402defer/" class="">04-02 Defer关键字</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0403luawebviewzidingyi/" class="">04-03 LuaWebView自定义进度条</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0404string/" class="">04-04 字符串</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0405layout/" class="">04-05 界面&amp;布局</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0406system/" class="">04-06 系统调用</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0407caculate/" class="">04-07 各式算法</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0408sent/" class="">04-08 信息&amp;发送</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0409sthing/" class="">04-09 事件</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0410file/" class="">04-10 文件处理</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="https://lua.dianas.cyou/docs/04/0411animation/" class="">04-11 动画</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>











  
<ul>
  
  <li>
    <a href="/posts/" >
        Blog
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <strong>02-01 String</strong>

  <label for="toc-control">
    
    <img src="/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#字符串操作">字符串操作</a>
      <ul>
        <li><a href="#转义符">转义符</a></li>
        <li><a href="#链接字符串只需要使用-">链接字符串只需要使用 <code>..</code></a></li>
        <li><a href="#计算字符串长度使用字符串">计算字符串长度使用<code>#字符串</code></a></li>
        <li><a href="#正则操作字符串">正则操作字符串</a></li>
        <li><a href="#替换与捕获">替换与捕获</a></li>
      </ul>
    </li>
    <li><a href="#其他api">其他API</a>
      <ul>
        <li><a href="#lua匹配模式">LUA匹配模式</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown"><h1 id="字符串">
  字符串
  <a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a>
</h1>
<hr>
<blockquote class="book-hint info">
  <strong>From 小何</strong>
</blockquote>

<h2 id="字符串操作">
  字符串操作
  <a class="anchor" href="#%e5%ad%97%e7%ac%a6%e4%b8%b2%e6%93%8d%e4%bd%9c">#</a>
</h2>
<h3 id="转义符">
  转义符
  <a class="anchor" href="#%e8%bd%ac%e4%b9%89%e7%ac%a6">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#960050;background-color:#1e0010">\</span>n  <span style="color:#960050;background-color:#1e0010">换行</span>(LF) <span style="color:#960050;background-color:#1e0010">，将当前位置移到下一行开头</span>
<span style="color:#960050;background-color:#1e0010">\</span>r  <span style="color:#960050;background-color:#1e0010">回车</span>(CR) <span style="color:#960050;background-color:#1e0010">，将当前位置移到本行开头</span>
<span style="color:#960050;background-color:#1e0010">\</span>t  <span style="color:#960050;background-color:#1e0010">水平制表</span>(HT) <span style="color:#960050;background-color:#1e0010">（跳到下一个</span>TAB位置<span style="color:#960050;background-color:#1e0010">）</span>
<span style="color:#960050;background-color:#1e0010">\\</span>  <span style="color:#960050;background-color:#1e0010">代表一个反斜线字符\</span>
<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#39;  代表一个单引号（撇号）字符
</span><span style="color:#e6db74"></span><span style="color:#ae81ff">\&#34;</span><span style="color:#e6db74">  代表一个双引号字符
</span><span style="color:#e6db74"></span><span style="color:#ae81ff">\0</span><span style="color:#e6db74">  空字符(NULL)
</span><span style="color:#e6db74">
</span></code></pre></div><h3 id="链接字符串只需要使用-">
  链接字符串只需要使用 <code>..</code>
  <a class="anchor" href="#%e9%93%be%e6%8e%a5%e5%ad%97%e7%ac%a6%e4%b8%b2%e5%8f%aa%e9%9c%80%e8%a6%81%e4%bd%bf%e7%94%a8-">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">print(<span style="color:#e6db74">&#34;i&#34;</span><span style="color:#f92672">..</span><span style="color:#e6db74">&#39;love&#39;</span>)
</code></pre></div><h3 id="计算字符串长度使用字符串">
  计算字符串长度使用<code>#字符串</code>
  <a class="anchor" href="#%e8%ae%a1%e7%ae%97%e5%ad%97%e7%ac%a6%e4%b8%b2%e9%95%bf%e5%ba%a6%e4%bd%bf%e7%94%a8%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">miao <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;https://lua.dianas.cyou/&#34;</span>
print(<span style="color:#f92672">#</span>miao)

</code></pre></div><h3 id="正则操作字符串">
  正则操作字符串
  <a class="anchor" href="#%e6%ad%a3%e5%88%99%e6%93%8d%e4%bd%9c%e5%ad%97%e7%ac%a6%e4%b8%b2">#</a>
</h3>
<p>我们使用正则表达式来截取字符串，简单的截取请看示例</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">
str<span style="color:#f92672">=</span><span style="color:#e6db74">&#34;左中右&#34;</span>
<span style="color:#75715e">--取左</span>
<span style="color:#960050;background-color:#1e0010">左</span><span style="color:#f92672">=</span>str:match(<span style="color:#e6db74">&#34;(.+)中&#34;</span>)
<span style="color:#75715e">--取字符串中间</span>
<span style="color:#960050;background-color:#1e0010">中</span><span style="color:#f92672">=</span>str:match(<span style="color:#e6db74">&#34;左(.-)右&#34;</span>)
<span style="color:#75715e">--取字符串右边</span>
<span style="color:#960050;background-color:#1e0010">右</span><span style="color:#f92672">=</span>str:match(<span style="color:#e6db74">&#34;中(.+)&#34;</span>)

</code></pre></div><p>常用正则如下

<div class="book-expand">
  <label>
    <div class="book-expand-head flex justify-between">
      <span>详细内容</span>
      <span>...</span>
    </div>
    <input type="checkbox" class="hidden" />
    <div class="book-expand-content markdown-inner">
      <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#960050;background-color:#1e0010">常用正则</span>(Lua中需要将<span style="color:#960050;background-color:#1e0010">\换成</span><span style="color:#f92672">%</span>)<span style="color:#960050;background-color:#1e0010">：</span>
<span style="color:#960050;background-color:#1e0010">非负整数：</span><span style="color:#f92672">^</span><span style="color:#960050;background-color:#1e0010">\</span>d<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">正整数：</span><span style="color:#f92672">^</span>[<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>][<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">非正整数：</span><span style="color:#f92672">^</span>((<span style="color:#f92672">-</span><span style="color:#960050;background-color:#1e0010">\</span>d<span style="color:#f92672">+</span>)<span style="color:#f92672">|</span>(<span style="color:#ae81ff">0</span><span style="color:#f92672">+</span>))<span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">负整数：</span><span style="color:#f92672">^-</span>[<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>][<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">整数：</span><span style="color:#f92672">^-</span><span style="color:#960050;background-color:#1e0010">?\</span>d<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">非负浮点数：</span><span style="color:#f92672">^</span><span style="color:#960050;background-color:#1e0010">\</span>d<span style="color:#f92672">+</span>(<span style="color:#960050;background-color:#1e0010">\</span>.<span style="color:#960050;background-color:#1e0010">\</span>d<span style="color:#f92672">+</span>)<span style="color:#960050;background-color:#1e0010">?$</span>
<span style="color:#960050;background-color:#1e0010">正浮点数</span> : <span style="color:#f92672">^</span>((<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>)<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">\</span>.[<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>][<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>)<span style="color:#f92672">|</span>([<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>][<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">\</span>.[<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">+</span>)<span style="color:#f92672">|</span>([<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>[<span style="color:#ae81ff">1</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>][<span style="color:#ae81ff">0</span><span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">*</span>)<span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">非正浮点数：</span><span style="color:#f92672">^</span>((<span style="color:#f92672">-</span><span style="color:#960050;background-color:#1e0010">\</span>d<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">\</span>.<span style="color:#960050;background-color:#1e0010">\</span>d<span style="color:#f92672">+</span>)<span style="color:#960050;background-color:#1e0010">?</span>)<span style="color:#f92672">|</span>(<span style="color:#ae81ff">0</span><span style="color:#f92672">+</span>(<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#ae81ff">.0</span><span style="color:#f92672">+</span>)<span style="color:#960050;background-color:#1e0010">?</span>))<span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">负浮点数：</span><span style="color:#f92672">^</span>(<span style="color:#f92672">-</span>((<span style="color:#960050;background-color:#1e0010">正浮点数正则式</span>)))<span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">英文字符串：</span><span style="color:#f92672">^</span>[A<span style="color:#f92672">-</span>Za<span style="color:#f92672">-</span>z]<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">英文大写串：</span><span style="color:#f92672">^</span>[A<span style="color:#f92672">-</span>Z]<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">英文小写串：</span><span style="color:#f92672">^</span>[a<span style="color:#f92672">-</span>z]<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">英文字符数字串：</span><span style="color:#f92672">^</span>[A<span style="color:#f92672">-</span>Za<span style="color:#f92672">-</span>z0<span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
<span style="color:#960050;background-color:#1e0010">英数字加下划线串：</span><span style="color:#f92672">^</span><span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
E<span style="color:#f92672">-</span>mail地址<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#f92672">^</span>[<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">-</span>]<span style="color:#f92672">+</span>(<span style="color:#960050;background-color:#1e0010">\</span>.[<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">-</span>]<span style="color:#f92672">+</span>)<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">@</span>[<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">-</span>]<span style="color:#f92672">+</span>(<span style="color:#960050;background-color:#1e0010">\</span>.[<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">-</span>]<span style="color:#f92672">+</span>)<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">$</span>
URL<span style="color:#960050;background-color:#1e0010">：</span><span style="color:#f92672">^</span>[a<span style="color:#f92672">-</span>zA<span style="color:#f92672">-</span>Z]<span style="color:#f92672">+</span>:<span style="color:#f92672">//</span>(<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>(<span style="color:#f92672">-</span><span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>)<span style="color:#f92672">*</span>)(<span style="color:#960050;background-color:#1e0010">\</span>.(<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>(<span style="color:#f92672">-</span><span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>)<span style="color:#f92672">*</span>))<span style="color:#f92672">*</span>(<span style="color:#960050;background-color:#1e0010">\?\</span>s<span style="color:#f92672">*</span>)<span style="color:#960050;background-color:#1e0010">?$</span> 
 <span style="color:#960050;background-color:#1e0010">或：</span><span style="color:#f92672">^</span>http:<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#f92672">/</span>[A<span style="color:#f92672">-</span>Za<span style="color:#f92672">-</span>z0<span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">+</span><span style="color:#960050;background-color:#1e0010">\</span>.[A<span style="color:#f92672">-</span>Za<span style="color:#f92672">-</span>z0<span style="color:#f92672">-</span><span style="color:#ae81ff">9</span>]<span style="color:#f92672">+</span>[<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#f92672">/=</span><span style="color:#960050;background-color:#1e0010">\?</span><span style="color:#f92672">%</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#f92672">-&amp;</span>_<span style="color:#f92672">~</span><span style="color:#960050;background-color:#1e0010">`@</span>[<span style="color:#960050;background-color:#1e0010">\</span>]<span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">&#39;:+!]*([^&lt;&gt;</span><span style="color:#ae81ff">\&#34;\&#34;</span><span style="color:#e6db74">])*$
</span><span style="color:#e6db74">邮政编码：^[1-9]</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{5}$
</span><span style="color:#e6db74">中文：^[</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">u0391-</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">uFFE5]+$
</span><span style="color:#e6db74">电话号码：^((</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{2,3}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">))|(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{3}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">-))?(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">(0</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{2,3}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">)|0</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{2,3}-)?[1-9]</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{6,7}(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">-</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{1,4})?$
</span><span style="color:#e6db74">手机号码：^((</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{2,3}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">))|(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{3}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">-))?13</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{9}$
</span><span style="color:#e6db74">双字节字符(包括汉字在内)：^</span><span style="color:#ae81ff">\x00</span><span style="color:#e6db74">-</span><span style="color:#ae81ff">\xff</span><span style="color:#e6db74">
</span><span style="color:#e6db74">匹配首尾空格：(^</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s*)|(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s*$)（像vbscript那样的trim函数）
</span><span style="color:#e6db74">匹配HTML标记：&lt;(.*)&gt;.*&lt;</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">/</span><span style="color:#ae81ff">\1</span><span style="color:#e6db74">&gt;|&lt;(.*) </span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">/&gt;
</span><span style="color:#e6db74">匹配空行：</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s| ]*</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">
</span><span style="color:#e6db74">提取信息中的网络链接：(h|H)(r|R)(e|E)(f|F)  *=  *(&#39;</span><span style="color:#f92672">|</span><span style="color:#e6db74">&#34;)?(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w|</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">/|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.)+(&#39;|&#34;</span><span style="color:#f92672">|</span>  <span style="color:#f92672">*|&gt;</span>)<span style="color:#960050;background-color:#1e0010">?</span>
<span style="color:#960050;background-color:#1e0010">提取信息中的邮件地址：\</span>w<span style="color:#f92672">+</span>([<span style="color:#f92672">-+</span>.]<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>)<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">@\</span>w<span style="color:#f92672">+</span>([<span style="color:#f92672">-</span>.]<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>)<span style="color:#f92672">*</span><span style="color:#960050;background-color:#1e0010">\</span>.<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>([<span style="color:#f92672">-</span>.]<span style="color:#960050;background-color:#1e0010">\</span>w<span style="color:#f92672">+</span>)<span style="color:#f92672">*</span>
<span style="color:#960050;background-color:#1e0010">提取信息中的图片链接：</span>(s<span style="color:#f92672">|</span>S)(r<span style="color:#f92672">|</span>R)(c<span style="color:#f92672">|</span>C)  <span style="color:#f92672">*=</span>  <span style="color:#f92672">*</span>(<span style="color:#e6db74">&#39;|&#34;)?(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w|</span><span style="color:#ae81ff">\\</span><span style="color:#e6db74">|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">/|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.)+(&#39;</span><span style="color:#f92672">|</span><span style="color:#e6db74">&#34;|  *|&gt;)?
</span><span style="color:#e6db74">提取信息中的IP地址：(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)
</span><span style="color:#e6db74">提取信息中的中国手机号码：(86)*0*13</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{9}
</span><span style="color:#e6db74">提取信息中的中国固定电话号码：(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{3,4}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">)|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{3,4}-|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s)?</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{8}
</span><span style="color:#e6db74">提取信息中的中国电话号码（包括移动和固定电话）：(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{3,4}</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">)|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{3,4}-|</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s)?</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{7,14}
</span><span style="color:#e6db74">提取信息中的中国邮政编码：[1-9]{1}(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+){5}
</span><span style="color:#e6db74">提取信息中的浮点数（即小数）：(-?</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d*)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.?</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+
</span><span style="color:#e6db74">提取信息中的任何数字 ：(-?</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d*)(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)? 
</span><span style="color:#e6db74">IP：(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d+)
</span><span style="color:#e6db74">电话区号：/^0</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">d{2,3}$/
</span><span style="color:#e6db74">腾讯QQ号：^[1-9]*[1-9][0-9]*$
</span><span style="color:#e6db74">帐号(字母开头，允򋮅-16字节，允许字母数字下划线)：^[a-zA-Z][a-zA-Z0-9_]{4,15}$
</span><span style="color:#e6db74">中文、英文、数字及下划线：^[</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">u4e00-</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">u9fa5_a-zA-Z0-9]+$
</span><span style="color:#e6db74">匹配中文字符的正则表达式： [</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">u4e00-</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">u9fa5]
</span><span style="color:#e6db74">匹配双字节字符(包括汉字在内)：[^</span><span style="color:#ae81ff">\x00</span><span style="color:#e6db74">-</span><span style="color:#ae81ff">\xff</span><span style="color:#e6db74">]
</span><span style="color:#e6db74">匹配空行的正则表达式：</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">[</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s| ]*</span><span style="color:#ae81ff">\r</span><span style="color:#e6db74">
</span><span style="color:#e6db74">匹配HTML标记的正则表达式：/&lt;(.*)&gt;.*&lt;</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">/</span><span style="color:#ae81ff">\1</span><span style="color:#e6db74">&gt;|&lt;(.*) </span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">/&gt;/
</span><span style="color:#e6db74">sql语句：^(select|drop|delete|create|update|insert).*$
</span><span style="color:#e6db74">匹配首尾空格的正则表达式：(^</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s*)|(</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">s*$)
</span><span style="color:#e6db74">匹򑓞mail地址的正则表达式：</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w+([-+.]</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w+)*@</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w+([-.]</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w+)*</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">.</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w+([-.]</span><span style="color:#960050;background-color:#1e0010">\</span><span style="color:#e6db74">w+)*
</span><span style="color:#e6db74">
</span></code></pre></div>
    </div>
  </label>
</div>
</p>
<h3 id="替换与捕获">
  替换与捕获
  <a class="anchor" href="#%e6%9b%bf%e6%8d%a2%e4%b8%8e%e6%8d%95%e8%8e%b7">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua"><span style="color:#75715e">--替换</span>
string.gsub(str,appla,apple)
<span style="color:#75715e">--原字符，替换目标，替换为</span>

<span style="color:#75715e">--定位并捕获</span>
start,ends<span style="color:#f92672">=</span>string.find(<span style="color:#960050;background-color:#1e0010">字符串</span>,<span style="color:#960050;background-color:#1e0010">子串</span>)

target<span style="color:#f92672">=</span>string.sub(<span style="color:#960050;background-color:#1e0010">字符串</span>,start,ends)

</code></pre></div><h2 id="其他api">
  其他API
  <a class="anchor" href="#%e5%85%b6%e4%bb%96api">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">string.upper(argument)  <span style="color:#960050;background-color:#1e0010">字符串全部转为大写字母。</span>
string.lower(argument)  <span style="color:#960050;background-color:#1e0010">字符串全部转为小写字母。</span>

string.gsub(mainString,findString,replaceString,num)  <span style="color:#960050;background-color:#1e0010">在字符串中替换</span>,mainString为要替换的字符串<span style="color:#960050;background-color:#1e0010">，</span> findString <span style="color:#960050;background-color:#1e0010">为被替换的字符，</span>replaceString <span style="color:#960050;background-color:#1e0010">要替换的字符，</span>num <span style="color:#960050;background-color:#1e0010">替换次数（可以忽略，则全部替换）</span>
string.find (str, substr, [init, [<span style="color:#66d9ef">end</span>]])  <span style="color:#960050;background-color:#1e0010">在一个指定的目标字符串中搜索指定的内容</span>(<span style="color:#960050;background-color:#1e0010">第三个参数为索引</span>),<span style="color:#960050;background-color:#1e0010">返回其具体位置。不存在则返回</span> <span style="color:#66d9ef">nil</span><span style="color:#960050;background-color:#1e0010">。</span>
string.reverse(arg)  <span style="color:#960050;background-color:#1e0010">字符串反转</span>
string.format(...)  <span style="color:#960050;background-color:#1e0010">返回一个类似</span>printf的格式化字符串
string.char(arg) <span style="color:#960050;background-color:#1e0010">和</span> string.byte(arg[,int])  char <span style="color:#960050;background-color:#1e0010">将整型数字转成字符并连接，</span> byte <span style="color:#960050;background-color:#1e0010">转换字符为整数值</span>(<span style="color:#960050;background-color:#1e0010">可以指定某个字符，默认第一个字符</span>)<span style="color:#960050;background-color:#1e0010">。</span>
string.len(arg)  <span style="color:#960050;background-color:#1e0010">计算字符串长度。</span>
string.rep(string, n)  <span style="color:#960050;background-color:#1e0010">返回字符串</span>string的n个拷贝
<span style="color:#f92672">..</span>  <span style="color:#960050;background-color:#1e0010">链接两个字符串</span>
string.gmatch(str, pattern)  <span style="color:#960050;background-color:#1e0010">回一个迭代器函数，每一次调用这个函数，返回一个在字符串</span> str <span style="color:#960050;background-color:#1e0010">找到的下一个符合</span> pattern <span style="color:#960050;background-color:#1e0010">描述的子串。如果参数</span> pattern <span style="color:#960050;background-color:#1e0010">描述的字符串没有找到，迭代函数返回</span><span style="color:#66d9ef">nil</span><span style="color:#960050;background-color:#1e0010">。</span>
string.match(str, pattern, init)  string.match()<span style="color:#960050;background-color:#1e0010">只寻找源字串</span>str中的第一个配对. <span style="color:#960050;background-color:#1e0010">参数</span>init可选, <span style="color:#960050;background-color:#1e0010">指定搜寻过程的起点</span>, <span style="color:#960050;background-color:#1e0010">默认񎎡。</span> 
<span style="color:#960050;background-color:#1e0010">在成功配对时</span>, <span style="color:#960050;background-color:#1e0010">函数将返回配对表达式中的所有捕获结果</span>; <span style="color:#960050;background-color:#1e0010">如果没有设置捕获标记</span>, <span style="color:#960050;background-color:#1e0010">则返回整个配对字符串</span>. <span style="color:#960050;background-color:#1e0010">当没有成功的配对时</span>, <span style="color:#960050;background-color:#1e0010">返回</span><span style="color:#66d9ef">nil</span><span style="color:#960050;background-color:#1e0010">。</span>

</code></pre></div><p>其中的<code>string.format()</code> 的转义码如下</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-markdown" data-lang="markdown">
%c - 接受一个数字, 并将其转化񎎪SCII码表中对应的字符
%d, %i - 接受一个数字并将其转化为有符号的整数格式
%o - 接受一个数字并将其转化为八进制数格式
%u - 接受一个数字并将其转化为无符号整数格式
%x - 接受一个数字并将其转化为十六进制数格式, 使用小写字母
%X - 接受一个数字并将其转化为十六进制数格式, 使用大写字母
%e - 接受一个数字并将其转化为科学记数法格式, 使用小写字񫳞
%E - 接受一个数字并将其转化为科学记数法格式, 使用大写字񫳞
%f - 接受一个数字并将其转化为浮点数格式
%g(%G) - 接受一个数字并将其转化为%e(%E, 对应%G)及%f中较短的一种格式
%q - 接受一个字符串并将其转化为可安全被Lua编译器读入的格式
%s - 接受一个字符串并按照给定的参数格式化该字符串

</code></pre></div><h3 id="lua匹配模式">
  LUA匹配模式
  <a class="anchor" href="#lua%e5%8c%b9%e9%85%8d%e6%a8%a1%e5%bc%8f">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-lua" data-lang="lua">Lua的匹配模式<span style="color:#960050;background-color:#1e0010">：</span>
.(<span style="color:#960050;background-color:#1e0010">点</span>): <span style="color:#960050;background-color:#1e0010">与任何字符配对</span>
<span style="color:#f92672">%</span>a: <span style="color:#960050;background-color:#1e0010">与任何字母配对</span>
<span style="color:#f92672">%</span>c: <span style="color:#960050;background-color:#1e0010">与任何控制符配对</span>(<span style="color:#960050;background-color:#1e0010">例如\</span>n)
<span style="color:#f92672">%</span>d: <span style="color:#960050;background-color:#1e0010">与任何数字配对</span>
<span style="color:#f92672">%</span>l: <span style="color:#960050;background-color:#1e0010">与任何小写字母配对</span>
<span style="color:#f92672">%</span>p: <span style="color:#960050;background-color:#1e0010">与任何标点</span>(punctuation)<span style="color:#960050;background-color:#1e0010">配对</span>
<span style="color:#f92672">%</span>s: <span style="color:#960050;background-color:#1e0010">与空白字符配对</span>
<span style="color:#f92672">%</span>u: <span style="color:#960050;background-color:#1e0010">与任何大写字母配对</span>
<span style="color:#f92672">%</span>w: <span style="color:#960050;background-color:#1e0010">与任何字母</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">数字配对</span>
<span style="color:#f92672">%</span>x: <span style="color:#960050;background-color:#1e0010">与任何十六进制数配对</span>
<span style="color:#f92672">%</span>z: <span style="color:#960050;background-color:#1e0010">与任何代򈚀的字符配对</span>
<span style="color:#f92672">%</span>x(<span style="color:#960050;background-color:#1e0010">此处</span>x是非字母非数字字符): <span style="color:#960050;background-color:#1e0010">与字符</span>x配对. <span style="color:#960050;background-color:#1e0010">主要用来处理表达式中有功能的字符</span>(<span style="color:#f92672">^</span><span style="color:#960050;background-color:#1e0010">$</span>()<span style="color:#f92672">%</span>.[]<span style="color:#f92672">*+-</span><span style="color:#960050;background-color:#1e0010">?</span>)<span style="color:#960050;background-color:#1e0010">的配对问题</span>, <span style="color:#960050;background-color:#1e0010">例如</span><span style="color:#f92672">%%</span><span style="color:#960050;background-color:#1e0010">与</span><span style="color:#f92672">%</span><span style="color:#960050;background-color:#1e0010">配对</span>
[<span style="color:#960050;background-color:#1e0010">数个字符类</span>]: <span style="color:#960050;background-color:#1e0010">与任何</span>[]<span style="color:#960050;background-color:#1e0010">中包含的字符类配对</span>. <span style="color:#960050;background-color:#1e0010">例如</span>[<span style="color:#f92672">%</span>w_]<span style="color:#960050;background-color:#1e0010">与任何字母</span><span style="color:#f92672">/</span><span style="color:#960050;background-color:#1e0010">数字</span>, <span style="color:#960050;background-color:#1e0010">或下划线符号</span>(_)<span style="color:#960050;background-color:#1e0010">配对</span>
[<span style="color:#f92672">^</span><span style="color:#960050;background-color:#1e0010">数个字符类</span>]: <span style="color:#960050;background-color:#1e0010">与任何不包含在</span>[]<span style="color:#960050;background-color:#1e0010">中的字符类配对</span>. <span style="color:#960050;background-color:#1e0010">例如</span>[<span style="color:#f92672">^%</span>s]<span style="color:#960050;background-color:#1e0010">与任何非空白字符配对</span>
<span style="color:#960050;background-color:#1e0010">单个字符类匹配该类别中任意单个字符；</span>
<span style="color:#960050;background-color:#1e0010">单个字符类跟一个</span> <span style="color:#e6db74">&#39;*&#39;</span><span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">将匹配零或多个该类的字符。</span> <span style="color:#960050;background-color:#1e0010">这个条目总是匹配尽可能长的串；</span>
<span style="color:#960050;background-color:#1e0010">单个字符类跟一个</span> <span style="color:#e6db74">&#39;+&#39;</span><span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">将匹配一或更多个该类的字符。</span> <span style="color:#960050;background-color:#1e0010">这个条目总是匹配尽可能长的串；</span>
<span style="color:#960050;background-color:#1e0010">单个字符类跟一个</span> <span style="color:#e6db74">&#39;-&#39;</span><span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">将匹配零或更多个该类的字符。</span> <span style="color:#960050;background-color:#1e0010">和</span> <span style="color:#e6db74">&#39;*&#39;</span> <span style="color:#960050;background-color:#1e0010">不同，</span> <span style="color:#960050;background-color:#1e0010">这个条目总是匹配尽可能短的串；</span>
<span style="color:#960050;background-color:#1e0010">单个字符类跟一个</span> <span style="color:#e6db74">&#39;?&#39;</span><span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">将匹配零或一个该类的字符。</span> <span style="color:#960050;background-color:#1e0010">只要有可能，它会匹配一个；</span>
<span style="color:#f92672">%</span>n<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">这里的</span> n <span style="color:#960050;background-color:#1e0010">可以从</span> <span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">到</span> <span style="color:#ae81ff">9</span><span style="color:#960050;background-color:#1e0010">；</span> <span style="color:#960050;background-color:#1e0010">这个条目匹配一个等于</span> n <span style="color:#960050;background-color:#1e0010">号捕获物（后面有描述）的子串。</span>
<span style="color:#f92672">%</span>bxy<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">这里的</span> x <span style="color:#960050;background-color:#1e0010">和</span> y <span style="color:#960050;background-color:#1e0010">是两个明确的字符；</span> <span style="color:#960050;background-color:#1e0010">这个条目匹配以</span> x <span style="color:#960050;background-color:#1e0010">开始</span> y <span style="color:#960050;background-color:#1e0010">结束，</span> <span style="color:#960050;background-color:#1e0010">且其中</span> x <span style="color:#960050;background-color:#1e0010">和</span> y <span style="color:#960050;background-color:#1e0010">保持</span> <span style="color:#960050;background-color:#1e0010">平衡</span> <span style="color:#960050;background-color:#1e0010">的字符串。</span> <span style="color:#960050;background-color:#1e0010">意思是，如果从左到右读这个字符串，对每次读到一个</span> x <span style="color:#960050;background-color:#1e0010">就</span> <span style="color:#f92672">+</span><span style="color:#ae81ff">1</span> <span style="color:#960050;background-color:#1e0010">，读到一个</span> y <span style="color:#960050;background-color:#1e0010">就</span> <span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">最终结束处的那个</span> y <span style="color:#960050;background-color:#1e0010">是第一个记数到</span> <span style="color:#ae81ff">0</span> <span style="color:#960050;background-color:#1e0010">的</span> y<span style="color:#960050;background-color:#1e0010">。</span> <span style="color:#960050;background-color:#1e0010">举个例子，条目</span> <span style="color:#f92672">%</span>b() <span style="color:#960050;background-color:#1e0010">可以匹配到括号平衡的表达式。</span>
<span style="color:#f92672">%</span>f[set]<span style="color:#960050;background-color:#1e0010">，</span> <span style="color:#960050;background-color:#1e0010">指</span> <span style="color:#960050;background-color:#1e0010">边境模式；</span> <span style="color:#960050;background-color:#1e0010">这个条目会匹配到一个位于</span> set <span style="color:#960050;background-color:#1e0010">内某个字符之前的一个空串，</span> <span style="color:#960050;background-color:#1e0010">且这个位置的前一个字符不属于</span> set <span style="color:#960050;background-color:#1e0010">。</span> <span style="color:#960050;background-color:#1e0010">集合</span> set <span style="color:#960050;background-color:#1e0010">的含义如前面所述。</span> <span style="color:#960050;background-color:#1e0010">匹配出的那个空串之开始和结束点的计算就看成该处有个字符</span> <span style="color:#e6db74">&#39;</span><span style="color:#ae81ff">\0</span><span style="color:#e6db74">&#39;</span> <span style="color:#960050;background-color:#1e0010">一样。</span>

</code></pre></div></article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#字符串操作">字符串操作</a>
      <ul>
        <li><a href="#转义符">转义符</a></li>
        <li><a href="#链接字符串只需要使用-">链接字符串只需要使用 <code>..</code></a></li>
        <li><a href="#计算字符串长度使用字符串">计算字符串长度使用<code>#字符串</code></a></li>
        <li><a href="#正则操作字符串">正则操作字符串</a></li>
        <li><a href="#替换与捕获">替换与捕获</a></li>
      </ul>
    </li>
    <li><a href="#其他api">其他API</a>
      <ul>
        <li><a href="#lua匹配模式">LUA匹配模式</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












